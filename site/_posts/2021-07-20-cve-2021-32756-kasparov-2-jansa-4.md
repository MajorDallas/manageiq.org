---
title: CVE-2021-32756, Kasparov-2, Jansa-4
author: Fryguy
date: 2021-07-20
comments: true
published: true
tags: releases announcements
---

ManageIQ Kasparov-2 and Jansa-4 are now available. These releases include a security fix, which is also included in the new Lasker-1 GA release. Many thanks goes to Jason Frey ([@Fryguy](https://github.com/Fryguy)) and Gregg Tanzillo ([@gtanzillo](https://github.com/gtanzillo)) for finding and fixing these vulnerabilities.  Also, many thanks go to all of the contributors for all of their enhancements and bug fixes.

## Security Issues

### High severity

- [CVE-2021-32756 - Arbitrary eval through MiqExpression](https://github.com/ManageIQ/manageiq/security/advisories/GHSA-32x4-vj4r-57rq)

## Other notable changes

### Kasparov-2

#### Bug

* Handle Unicode characters in httpd auth headers [[#21171]](https://github.com/ManageIQ/manageiq/pull/21171), [[manageiq-api#1031]](https://github.com/ManageIQ/manageiq-api/pull/1031)
* Improve the provider check for authentication status [[#21198]](https://github.com/ManageIQ/manageiq/pull/21198)
* [Docker build] Ensure that the postgres directory has the correct permissions. [[#21151]](https://github.com/ManageIQ/manageiq/pull/21151)
* [Podified build] Replace all kubernetes label unsafe characters with - [[#21139]](https://github.com/ManageIQ/manageiq/pull/21139)
* [Podified build] If there is a HttpdAuthConfig, add the backup label to it [[manageiq-pod#692]](https://github.com/ManageIQ/manageiq-pods/pull/692)
* [API] Fix Provider create product feature [[manageiq-api#1038]](https://github.com/ManageIQ/manageiq-api/pull/1038)
* [API] Fix storing ae_attributes as uri_attributes for create/edit in CustomButtons [[manageiq-api#967]](https://github.com/ManageIQ/manageiq-api/pull/967)
* [Amazon provider] Don't normalize_os_name if image_location is nil [[manageiq-providers-amazon#700]](https://github.com/ManageIQ/manageiq-providers-amazon/pull/700)
* [Amazon provider] Fix AgentCoordinatorWorker sync_workers [[manageiq-providers-amazon#686]](https://github.com/ManageIQ/manageiq-providers-amazon/pull/686)
* [Ansible Tower provider] Fix API path not being added to URL [[manageiq-providers-ansible_tower#260]](https://github.com/ManageIQ/manageiq-providers-ansible_tower/pull/260)
* [Ansible Tower provider] Fix username and password required error on edit [[manageiq-providers-ansible_tower#258]](https://github.com/ManageIQ/manageiq-providers-ansible_tower/pull/258)
* [Azure provider] The Per Disk Read/Write Per Sec Metric was removed [[manageiq-providers-azure#436]](https://github.com/ManageIQ/manageiq-providers-azure/pull/436)
* [IBM Cloud provider] Remove default 'Network Interfaces' selection [[manageiq-providers-ibm_cloud#184]](https://github.com/ManageIQ/manageiq-providers-ibm_cloud/pull/184)
* [Kubernetes provider] Only collect metrics if the metrics endpoint has valid authentication [[manageiq-providers-kubernetes#431]](https://github.com/ManageIQ/manageiq-providers-kubernetes/pull/431)
* [OpenStack provider] Extend error catching in detect_service for tenant [[manageiq-providers-openstack#702]](https://github.com/ManageIQ/manageiq-providers-openstack/pull/702)
* [OpenStack provider] Fix domain_id params / verify key mismatch [[manageiq-providers-openstack#699]](https://github.com/ManageIQ/manageiq-providers-openstack/pull/699)
* [OpenStack provider] Fix for the OpenStack port always being nil and defaulting to 5000 [[manageiq-providers-openstack#696]](https://github.com/ManageIQ/manageiq-providers-openstack/pull/696)
* [oVirt provider] Fix metrics connection setup failure [[manageiq-providers-ovirt#551]](https://github.com/ManageIQ/manageiq-providers-ovirt/pull/551)
* [SCVMM provider] Handle missing VM VMCPath [[manageiq-providers-scvmm#184]](https://github.com/ManageIQ/manageiq-providers-scvmm/pull/184)
* [VMware provider] Clear cached tags after finishing a full refresh [[manageiq-providers-vmware#695]](https://github.com/ManageIQ/manageiq-providers-vmware/pull/695)
* [UI] Fix tenants tree in Edit catalog item [[manageiq-ui-classic#7733]](https://github.com/ManageIQ/manageiq-ui-classic/pull/7733)
* [UI] Fix reference to missing product feature preventing add/update/reset chargeback rates [[manageiq-ui-classic#7729]](https://github.com/ManageIQ/manageiq-ui-classic/pull/7729)
* [UI] Fix Monitor > Alerts > All Alerts [[manageiq-ui-classic#7726]](https://github.com/ManageIQ/manageiq-ui-classic/pull/7726)

#### Enhancement

* [Podified build] Add backup labels to the PVCs [[manageiq-pods#711]](https://github.com/ManageIQ/manageiq-pods/pull/711)
* [Podified build] List all known server GUIDs if the deployment status is new replica [[#21197]](https://github.com/ManageIQ/manageiq/pull/21197)
* [IBM Cloud provider] Add api endpoints for new regions [[manageiq-providers-ibm_cloud#169]](https://github.com/ManageIQ/manageiq-providers-ibm_cloud/pull/169)
* [IBM Cloud provider] Allow API endpoint overrides through settings [[manageiq-providers-ibm_cloud#150]](https://github.com/ManageIQ/manageiq-providers-ibm_cloud/pull/150)

Here are the changes (since Kasparov-1) per affected repository in GitHub:

* [manageiq](https://github.com/ManageIQ/manageiq/compare/kasparov-1...kasparov-2)
* [manageiq-api](https://github.com/ManageIQ/manageiq-api/compare/kasparov-1...kasparov-2)
* [manageiq-appliance-build](https://github.com/ManageIQ/manageiq-appliance-build/compare/kasparov-1...kasparov-2)
* [manageiq-content](https://github.com/ManageIQ/manageiq-content/compare/kasparov-1...kasparov-2)
* [manageiq-pods](https://github.com/ManageIQ/manageiq-pods/compare/kasparov-1...kasparov-2)
* [manageiq-providers-amazon](https://github.com/ManageIQ/manageiq-providers-amazon/compare/kasparov-1...kasparov-2)
* [manageiq-providers-ansible_tower](https://github.com/ManageIQ/manageiq-providers-ansible_tower/compare/kasparov-1...kasparov-2)
* [manageiq-providers-azure](https://github.com/ManageIQ/manageiq-providers-azure/compare/kasparov-1...kasparov-2)
* [manageiq-providers-ibm_cloud](https://github.com/ManageIQ/manageiq-providers-ibm_cloud/compare/kasparov-1...kasparov-2)
* [manageiq-providers-kubernetes](https://github.com/ManageIQ/manageiq-providers-kubernetes/compare/kasparov-1...kasparov-2)
* [manageiq-providers-openstack](https://github.com/ManageIQ/manageiq-providers-openstack/compare/kasparov-1...kasparov-2)
* [manageiq-providers-ovirt](https://github.com/ManageIQ/manageiq-providers-ovirt/compare/kasparov-1...kasparov-2)
* [manageiq-providers-scvmm](https://github.com/ManageIQ/manageiq-providers-scvmm/compare/kasparov-1...kasparov-2)
* [manageiq-providers-vmware](https://github.com/ManageIQ/manageiq-providers-vmware/compare/kasparov-1...kasparov-2)
* [manageiq-rpm_build](https://github.com/ManageIQ/manageiq-rpm_build/compare/kasparov-1...kasparov-2)
* [manageiq-ui-classic](https://github.com/ManageIQ/manageiq-ui-classic/compare/kasparov-1...kasparov-2)

### Jansa-4

#### Bug

* [API] Fix storing ae_attributes as uri_attributes for create/edit in CustomButtons [[manageiq-api#967]](https://github.com/ManageIQ/manageiq-api/pull/967)
* [Amazon provider] Fix AgentCoordinatorWorker sync_workers [[manageiq-providers-amazon#686]](https://github.com/ManageIQ/manageiq-providers-amazon/pull/686)
* [Azure provider] The Per Disk Read/Write Per Sec Metric was removed [[manageiq-providers-azure#436]](https://github.com/ManageIQ/manageiq-providers-azure/pull/436)
* [SCVMM provider] Handle missing VM VMCPath [[manageiq-providers-scvmm#184]](https://github.com/ManageIQ/manageiq-providers-scvmm/pull/184)
* [VMware provider] Ensure all OperationsWorker connections create monitor_updates thread [[manageiq-providers-vmware#685]](https://github.com/ManageIQ/manageiq-providers-vmware/pull/685)
* [UI] Fix reference to missing product feature preventing add/update/reset chargeback rates [[manageiq-ui-classic#7729]](https://github.com/ManageIQ/manageiq-ui-classic/pull/7729)
* [UI] Fix Monitor > Alerts > All Alerts [[manageiq-ui-classic#7726]](https://github.com/ManageIQ/manageiq-ui-classic/pull/7726)
* [UI] Fix error in policy condition edit [[manageiq-ui-classic#7579]](https://github.com/ManageIQ/manageiq-ui-classic/pull/7579)
* [UI] Do not display disabled domains in automate entrypoint selections [[manageiq-ui-classic#6744]](https://github.com/ManageIQ/manageiq-ui-classic/pull/6744)

Here are the changes (since Jansa-3) per affected repository in GitHub:

* [manageiq](https://github.com/ManageIQ/manageiq/compare/jansa-3...jansa-4)
* [manageiq-api](https://github.com/ManageIQ/manageiq-api/compare/jansa-3...jansa-4)
* [manageiq-appliance-build](https://github.com/ManageIQ/manageiq-appliance-build/compare/jansa-3...jansa-4)
* [manageiq-content](https://github.com/ManageIQ/manageiq-content/compare/jansa-3...jansa-4)
* [manageiq-pods](https://github.com/ManageIQ/manageiq-pods/compare/jansa-3...jansa-4)
* [manageiq-providers-amazon](https://github.com/ManageIQ/manageiq-providers-amazon/compare/jansa-3...jansa-4)
* [manageiq-providers-azure](https://github.com/ManageIQ/manageiq-providers-azure/compare/jansa-3...jansa-4)
* [manageiq-providers-ovirt](https://github.com/ManageIQ/manageiq-providers-ovirt/compare/jansa-3...jansa-4)
* [manageiq-providers-scvmm](https://github.com/ManageIQ/manageiq-providers-scvmm/compare/jansa-3...jansa-4)
* [manageiq-providers-vmware](https://github.com/ManageIQ/manageiq-providers-vmware/compare/jansa-3...jansa-4)
* [manageiq-rpm_build](https://github.com/ManageIQ/manageiq-rpm_build/compare/jansa-3...jansa-4)
* [manageiq-ui-classic](https://github.com/ManageIQ/manageiq-ui-classic/compare/jansa-3...jansa-4)


---

With the release of Lasker-1, you can obtain the Jansa-4 and Kasparov-2 releases [here](https://releases.manageiq.org).
Since we no longer support Ivanchuk, we highly recommend upgrading to a supported release instead.

For questions or support, [join in on the talk page](https://talk.manageiq.org/).
